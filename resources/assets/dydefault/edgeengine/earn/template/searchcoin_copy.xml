<LinearLayout width="match_parent" height="match_parent" background="@color/KBaseColorContentBackground" onClick="@event.searchcoin.clearFocus()" orientation="vertical">

    <LinearLayout width="match_parent" height="44" gravity="centerVertical" orientation="horizontal">

        <ImageView width="wrap_content" height="wrap_content" paddingLeft="16" gravity="center" visibility="{{@data.searchcoin.backVis}}" onClick="@event.searchcoin.cancel()" src="@drawable/edge_engine_top_bar_back_normal"/>

        <LinearLayout width="0" weight="1" height="36" background="@color/kColorInputFill" gravity="centerVertical" cornerRadius="18" borderWidth="1" marginLeft="16" borderColor="{{@data.searchcoin.borderColor}}" orientation="horizontal">

            <ImageView width="32" height="32" marginLeft="8" src="@drawable/edge_engine_icon_earn_home_search"/>

            <EditText height="match_parent" width="0" weight="1" hint="{{@i18n/n_earn_search_coin}}" onReturn="@event.searchcoin.onReturn(@eventParams)" onTextChange="@event.searchcoin.textChange(@eventParams)" onFocusChange="@event.searchcoin.focusChange(@eventParams)" requestFocus="{{@data.searchcoin.onFocus}}" text="{{@data.searchcoin.searchInput}}" paddingLeft="4" paddingRight="4" textColor="@color/kColorPrimaryText" textColorHint="@color/baseColorThreeLevelText" textFontWeight="400" textSize="14"/>

            <ImageView width="20" height="20" marginRight="8" onClick="@event.searchcoin.clearInput()" visibility="{{@data.searchcoin.clearInputVis}}" src="@drawable/edge_engine_icon_earn_clear_input_ct"/>

        </LinearLayout>

        <TextView width="wrap_content" height="match_parent" textColor="@color/kColorPrimaryText" textSize="14" paddingRight="16" paddingLeft="12" onClick="@event.searchcoin.cancel()" gravity="centerVertical" text="{{@i18n/n_cancel}}" textFontWeight="400"/>

    </LinearLayout>

    <!-- 历史搜索模块 -->
    <LinearLayout height="wrap_content" width="match_parent" orientation="vertical" paddingLeft="16" paddingRight="16" paddingTop="12" paddingBottom="12" visibility="{{@data.searchcoin.searchHistoryVis}}">

        <LinearLayout width="match_parent" height="wrap_content" orientation="horizontal">

            <TextView width="wrap_content" height="wrap_content" textColor="@color/kColorThreeLevelText" textSize="14" text="{{@i18n/n_new_search_history_title}}"/>

            <View weight="1" width="0" height="1"/>

            <ImageView width="18" height="18" onClick="@event.searchcoin.clearSearchHistory()" src="@drawable/edge_engine_icon_earn_delete_serach_history"/>

        </LinearLayout>

        <SearchHistoryWidget width="match_parent" height="wrap_content" searchList="{{@data.searchcoin.searchList}}" horizontalSpacing="8" marginTop="13" verticalSpacing="8"/>

    </LinearLayout>

    <TextView width="wrap_content" height="wrap_content" textColor="@color/kColorThreeLevelText" textSize="14" marginTop="16" marginLeft="16" text="{{@i18n/n_earn_all_coin}}"/>

    <LinearLayout weight="1" height="0" width="match_parent" orientation="vertical">
        <RecyclerView data="@data.searchcoin.coinDataRl" height="match_parent" width="match_parent" onRefresh="@event.searchcoin.refresh()" onLoadMore="@event.searchcoin.loadMore()" refreshStatus="{{@data.searchcoin.refreshStatus}}" loadMoreStatus="{{@data.searchcoin.loadMoreStatus}}" itemKey="element" marginLeft="16" marginRight="16" typeKey="type">

            <Header width="match_parent" height="wrap_content">

                <FrameLayout width="match_parent" height="wrap_content">

                    <LinearLayout width="match_parent" height="wrap_content" orientation="vertical">

                        <For data="@data.searchcoin.coinData" itemKey="element" typeKey="type">

                            <Cell type="1" width="match_parent" height="wrap_content">

                                <LinearLayout width="match_parent" height="wrap_content" marginTop="12" borderColor="@color/KBaseColorPrimarySeparator" borderWidth="1" cornerRadius="8" orientation="vertical" paddingLeft="16" paddingRight="16">

                                    <!-- 父item -->
                                    <LinearLayout width="match_parent" height="wrap_content" orientation="horizontal" marginTop="14" marginBottom="14" onClick="@event.searchcoin.itemClick({{@element.index}})" gravity="centerVertical">

                                        <ImageView width="24" height="24" src="{{@element.iconUrl}}"/>

                                        <LinearLayout width="0" weight="1" height="wrap_content" marginLeft="12" orientation="vertical">

                                            <TextView width="wrap_content" height="wrap_content" textSize="16" textColor="@color/kColorPrimaryText" text="{{@element.currency}}" textFontWeight="500"/>

                                            <TextView width="wrap_content" height="wrap_content" textSize="11" textFontWeight="400" textColor="@color/kColorThreeLevelText" text="{{@element.hold}}"/>

                                        </LinearLayout>

                                        <TextView width="wrap_content" height="wrap_content" textSize="18" textFontWeight="500" textColor="@color/kColorPriceGreen" text="{{@element.apy}}" visibility="{{@element.apyVis}}"/>

                                        <ImageView width="wrap_content" height="wrap_content" marginLeft="4" src="{{@element.expandStatusRes}}"/>

                                    </LinearLayout>

                                    <!-- 子item visibility="{{@element.##}}" 控制子条目显示隐藏-->
                                    <LinearLayout width="match_parent" height="wrap_content" orientation="vertical" visibility="{{@element.childVis}}">

                                        <View width="match_parent" height="1" marginBottom="12" background="@color/kColorEBEBEB"/>

                                        <For data="@element.list" itemKey="childElement" typeKey="type">

                                            <Cell type="1" width="match_parent" height="wrap_content">

                                                <LinearLayout width="match_parent" height="wrap_content" gravity="centerVertical" orientation="horizontal" marginBottom="16" onClick="@event.searchcoin.childItmClick({{@element.index}},{{@childElement.index}})" marginTop="4">

                                                    <LinearLayout width="wrap_content" height="wrap_content" orientation="vertical">

                                                        <TextView width="wrap_content" height="wrap_content" textSize="14" textColor="@color/kColorPrimaryText" textFontWeight="500" text="{{@childElement.proj}}"/>

                                                        <TextView width="wrap_content" height="wrap_content" textSize="11" textColor="@color/kColorThreeLevelText" textFontWeight="400" text="{{@childElement.desc}}"/>

                                                    </LinearLayout>

                                                    <View width="0" height="0" weight="1"/>

                                                    <TextView width="wrap_content" height="wrap_content" textSize="11" paddingLeft="6" paddingRight="6" paddingTop="2" paddingBottom="2" textColor="{{@childElement.tagTextColor}}" text="{{@childElement.tagName}}" visibility="{{@childElement.tagVis}}" cornerRadius="9" textFontWeight="500" background="{{@childElement.tagBg}}"/>

                                                    <TextView width="wrap_content" height="wrap_content" textSize="18" marginLeft="4" textFontWeight="500" textColor="@color/kColorPriceGreen" text="{{@childElement.apy}}"/>

                                                </LinearLayout>

                                            </Cell>

                                        </For>

                                    </LinearLayout>

                                </LinearLayout>

                            </Cell>

                        </For>

                    </LinearLayout>

                    <LinearLayout height="wrap_content" width="match_parent" gravity="center" orientation="vertical" marginTop="120" visibility="{{@data.searchcoin.emptyDataVis}}">

                        <ImageView width="wrap_content" height="wrap_content" marginLeft="8" src="@drawable/edge_engine_icon_earn_empty_data"/>

                        <TextView width="wrap_content" height="wrap_content" textColor="@color/eBaseColorThreeLevelText" textSize="12" marginTop="12" text="{{@i18n/n_earnhome_nodata}}"/>

                    </LinearLayout>

                </FrameLayout>
            </Header>

        </RecyclerView>
    </LinearLayout>

</LinearLayout>
