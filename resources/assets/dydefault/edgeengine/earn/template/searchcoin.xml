<LinearLayout width="match_parent" height="match_parent" background="@color/KBaseColorContentBackground" onClick="@event.searchcoin.clearFocus()" orientation="vertical">

    <LinearLayout width="match_parent" height="44" gravity="centerVertical" orientation="horizontal">

        <ImageView width="wrap_content" height="wrap_content" paddingLeft="16" gravity="center" visibility="{{@data.searchcoin.backVis}}" onClick="@event.searchcoin.cancel()" src="@drawable/edge_engine_top_bar_back_normal"/>
        <View width="{{@data.searchcoin.serachMarginLeft}}" height="0"/>

        <LinearLayout width="0" weight="1" height="36" background="@color/kColorInputFill" gravity="centerVertical" cornerRadius="18" borderWidth="1" borderColor="{{@data.searchcoin.borderColor}}" orientation="horizontal">

            <ImageView width="32" height="32" marginLeft="8" src="@drawable/edge_engine_icon_earn_home_search"/>

            <EditText height="match_parent" width="0" weight="1" hint="{{@i18n/n_earn_search_coin}}" onReturn="@event.searchcoin.onReturn(@eventParams)" onTextChange="@event.searchcoin.textChange(@eventParams)" onFocusChange="@event.searchcoin.focusChange(@eventParams)" requestFocus="{{@data.searchcoin.onFocus}}" text="{{@data.searchcoin.searchInput}}" paddingLeft="4" paddingRight="4" textColor="@color/kColorPrimaryText" textColorHint="@color/baseColorThreeLevelText" textFontWeight="400" textSize="14"/>

            <ImageView width="20" height="20" marginRight="8" onClick="@event.searchcoin.clearInput()" visibility="{{@data.searchcoin.clearInputVis}}" src="@drawable/edge_engine_icon_earn_clear_input_ct"/>

        </LinearLayout>

        <TextView width="wrap_content" height="match_parent" textColor="@color/kColorPrimaryText" textSize="14" paddingRight="16" paddingLeft="12" onClick="@event.searchcoin.cancel()" gravity="centerVertical" text="{{@i18n/n_cancel}}" textFontWeight="500"/>

    </LinearLayout>

    <!-- 历史搜索模块 -->
    <LinearLayout height="wrap_content" width="match_parent" orientation="vertical" paddingLeft="16" paddingRight="16" paddingTop="12" paddingBottom="12" visibility="{{@data.searchcoin.searchHistoryVis}}">

        <LinearLayout width="match_parent" height="wrap_content" orientation="horizontal">

            <TextView width="wrap_content" height="wrap_content" textColor="@color/kColorThreeLevelText" textSize="14" text="{{@i18n/n_new_search_history_title}}"/>

            <View weight="1" width="0" height="1"/>

            <ImageView width="18" height="18" onClick="@event.searchcoin.clearSearchHistory()" src="@drawable/edge_engine_icon_earn_delete_serach_history"/>

        </LinearLayout>

        <SearchHistoryWidget width="match_parent" height="wrap_content" searchList="{{@data.searchcoin.searchList}}" horizontalSpacing="8" marginTop="13" verticalSpacing="8"/>

    </LinearLayout>

    <TextView width="wrap_content" height="wrap_content" textColor="@color/kColorThreeLevelText" textSize="12" marginTop="16" marginLeft="16" textFontWeight="500" marginBottom="12" visibility="{{@data.searchcoin.allCoinTitleVis}}" text="{{@i18n/n_earn_all_coin}}"/>

    <LinearLayout weight="1" height="0" width="match_parent" orientation="vertical">

        <FrameLayout width="match_parent" height="match_parent">

            <RecyclerView data="@data.searchcoin.coinData" height="match_parent" width="match_parent" onRefresh="@event.searchcoin.refresh()" refreshStatus="{{@data.searchcoin.refreshStatus}}" itemKey="element" typeKey="type">
                <!-- onLoadMore="@event.searchcoin.loadMore()"
                loadMoreStatus="{{@data.searchcoin.loadMoreStatus}}" -->

                <Cell type="1" width="match_parent" height="wrap_content">

                    <LinearLayout marginLeft="16" marginRight="16" width="match_parent" height="wrap_content" marginBottom="12" borderColor="@color/KBaseColorPrimarySeparator" borderWidth="0.5" cornerRadius="8" orientation="vertical">

                        <!-- 父item -->
                        <LinearLayout width="match_parent" height="wrap_content" orientation="horizontal" marginTop="18" marginBottom="18" marginLeft="16" marginRight="16" onClick="@event.searchcoin.itemClick({{@element.index}})" gravity="centerVertical">

                            <ImageView width="24" height="24" src="{{@element.iconUrl}}"/>

                            <LinearLayout width="0" weight="1" height="wrap_content" marginLeft="12" orientation="vertical">

                                <LinearLayout width="wrap_content" height="wrap_content" orientation="horizontal">

                                    <TextView width="wrap_content" height="wrap_content" textSize="16" textColor="@color/kColorPrimaryText" text="{{@element.currency}}" letterSpacing="0.01" textFontWeight="500"/>

                                    <!-- 加息券 -->
                                    <LinearLayout width="wrap_content" height="wrap_content" orientation="horizontal" cornerRadius="8" paddingLeft="4" paddingRight="4" gravity="center" paddingBottom="2" paddingTop="2" marginLeft="4" background="@color/kColorFF7CC" visibility="{{@element.couponVis}}">

                                        <ImageView width="wrap_content" height="wrap_content" marginRight="1" src="@drawable/edge_engine_coupon_icon"/>

                                        <TextView width="wrap_content" height="wrap_content" textSize="12" textFontWeight="500" textColor="@color/kColorB97D0A" text="{{@element.couponValue}}" letterSpacing="0.01"/>

                                    </LinearLayout>

                                    <!-- 外层vip和launcherPool标签 -->
                                    <ImageView width="wrap_content" height="wrap_content" marginLeft="4" layout_gravity="centerVertical" visibility="{{@element.iconVis | gone}}" src="{{@element.iconSrc}}"/>

                                    <!-- 外层文本标签 -->
                                    <TextView width="wrap_content" height="wrap_content" textSize="10" paddingLeft="6" paddingRight="6" paddingTop="2" paddingBottom="2" marginLeft="4" layout_gravity="centerVertical" textColor="{{@element.tagTextColor}}" text="{{@element.tagName}}" visibility="{{@element.listMainTagVis}}" cornerRadius="4" textFontWeight="500" background="{{@element.tagBg}}"/>

                                </LinearLayout>

                                <TextView width="wrap_content" height="wrap_content" textSize="11" textFontWeight="400" marginTop="4" textColor="@color/kColorThreeLevelText" text="{{@element.hold}}" visibility="{{@element.holdVis}}"/>

                            </LinearLayout>

                            <TextView width="wrap_content" height="wrap_content" textSize="18" textFontWeight="500" textColor="@color/kColorPriceGreen" text="{{@element.apy}}" visibility="{{@element.apyVis}}"/>

                            <ImageView width="wrap_content" height="wrap_content" marginLeft="4" src="{{@element.expandStatusRes}}"/>

                        </LinearLayout>

                        <!-- 子item visibility="{{@element.##}}" 控制子条目显示隐藏-->
                        <LinearLayout width="match_parent" height="wrap_content" orientation="vertical" paddingBottom="10" visibility="{{@element.childVis | gone}}">

                            <View width="match_parent" height="0.5" marginBottom="6" background="@color/kColorEBEBEB"/>

                            <For data="@element.list" itemKey="childElement" typeKey="type">

                                <Cell type="1" width="match_parent" height="wrap_content">

                                    <FrameLayout width="match_parent" height="56">

                                        <ImageView width="match_parent" height="match_parent" src="@drawable/edge_engine_earn_vip_bg" visibility="{{@childElement.earnVipVis}}"/>

                                        <LinearLayout width="match_parent" height="match_parent" gravity="centerVertical" orientation="horizontal" marginLeft="16" marginRight="16" onClick="@event.searchcoin.childItmClick({{@element.index}},{{@childElement.index}})">

                                            <LinearLayout width="wrap_content" height="wrap_content" orientation="vertical">

                                                <LinearLayout width="wrap_content" height="wrap_content" orientation="horizontal">

                                                    <TextView width="wrap_content" height="wrap_content" textSize="14" textColor="@color/kColorSecondaryText" textFontWeight="500" text="{{@childElement.proj}}"/>

                                                    <!-- vip | launcherPool 标记 -->
                                                    <ImageView width="wrap_content" height="wrap_content" marginLeft="4" visibility="{{@childElement.vipIconVis | gone}}" src="{{@childElement.iconSrc}}"/>

                                                </LinearLayout>

                                                <TextView width="wrap_content" height="wrap_content" textSize="11" textColor="@color/kColorThreeLevelText" textFontWeight="400" marginTop="4" text="{{@childElement.desc}}"/>

                                            </LinearLayout>

                                            <View width="0" height="0" weight="1"/>

                                            <!-- 加息券标记 -->
                                            <LinearLayout width="wrap_content" height="wrap_content" orientation="horizontal" cornerRadius="8" paddingLeft="4" paddingRight="4" gravity="center" paddingBottom="2" paddingTop="2" background="@color/kColorFF7CC" visibility="{{@childElement.couponVis}}">

                                                <ImageView width="wrap_content" height="wrap_content" marginRight="1" src="@drawable/edge_engine_coupon_icon"/>

                                                <TextView width="wrap_content" height="wrap_content" textSize="12" textFontWeight="500" textColor="@color/kColorB97D0A" text="{{@childElement.couponValue}}" letterSpacing="0.01"/>

                                            </LinearLayout>

                                            <TextView width="wrap_content" height="wrap_content" textSize="10" paddingLeft="6" paddingRight="6" paddingTop="2" paddingBottom="2" textColor="{{@childElement.tagTextColor}}" text="{{@childElement.tagName}}" visibility="{{@childElement.tagVis}}" cornerRadius="4" textFontWeight="500" background="{{@childElement.tagBg}}"/>

                                            <TextView width="wrap_content" height="wrap_content" textSize="18" marginLeft="4" textFontWeight="500" textColor="@color/kColorPriceGreen" text="{{@childElement.apy}}"/>

                                        </LinearLayout>

                                    </FrameLayout>
                                </Cell>

                            </For>

                        </LinearLayout>

                    </LinearLayout>

                </Cell>

                <Footer width="match_parent" height="60" background="@color/KBaseColorContentBackground">
                </Footer>
            </RecyclerView>

            <LinearLayout height="wrap_content" width="match_parent" gravity="center" orientation="vertical" marginTop="120" visibility="{{@data.searchcoin.emptyDataVis}}">

                <ImageView width="wrap_content" height="wrap_content" marginLeft="8" src="@drawable/edge_engine_icon_earn_empty_data"/>

                <TextView width="wrap_content" height="wrap_content" textColor="@color/eBaseColorThreeLevelText" textSize="12" marginTop="12" text="{{@i18n/n_earnhome_nodata}}"/>

            </LinearLayout>

        </FrameLayout>

    </LinearLayout>

</LinearLayout>
