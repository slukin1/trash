<LinearLayout
    width="match_parent"
    height="match_parent"
    orientation="vertical"
    background="@color/KBaseColorContentBackground">

  <!-- tab 区域 -->
  <FrameLayout
      width="match_parent"
      height="44">

    <View
        width="match_parent"
        height="0.5"
        background="@color/eColorPrimarySeparator"
        layout_gravity="bottom" />

    <LinearLayout
        width="375"
        height="44"
        orientation="horizontal">

      <TextView
          width="wrap_content"
          height="42"
          gravity="center"
          marginLeft="16"
          textSize="14"
          textFontWeight="500"
          text="{{@i18n/n_shark_fin_earning}}"
          textColor="{{@data.history.onGoingTitleColor}}"
          onClick="@event.history.tabClick('onGoing')" />

      <TextView
          width="wrap_content"
          height="42"
          gravity="center"
          marginLeft="16"
          textSize="14"
          textFontWeight="500"
          text="{{@i18n/n_shark_fin_expired}}"
          textColor="{{@data.history.finishedTitleColor}}"
          onClick="@event.history.tabClick('finished')" />

    </LinearLayout>

  </FrameLayout>

  <LinearLayout
      width="match_parent"
      height="0"
      weight="1"
      orientation="vertical">
    <!-- 数据列表区域 -->
    <SliderView
        width="match_parent"
        height="match_parent"
        direction="horizontal"
        autoScroll="false"
        scrollMode="reverse"
        onSelected="@event.history.resetTitleSelectTab(@eventParams)"
        currentIndex="@data.history.currentIndex">
      <For
          data="@data.history.listData"
          itemKey="item"
          typeKey="type">

        <Cell
            width="match_parent"
            height="match_parent"
            type="normal">
          <FrameLayout
              width="match_parent"
              height="match_parent">

            <LinearLayout
                width="match_parent"
                height="match_parent"
                orientation="vertical"
                marginTop="80"
                visibility="{{@item.empty}}">

              <ImageView
                  width="60"
                  height="60"
                  layout_gravity="center"
                  src="@drawable/edge_engine_empty" />

              <TextView
                  marginTop="8"
                  width="match_parent"
                  height="wrap_content"
                  gravity="center"
                  textSize="14"
                  text="{{@i18n/n_redpacket_record_nodata}}"
                  textColor="@color/kColorSecondaryText" />
            </LinearLayout>

            <LinearLayout
                width="match_parent"
                height="match_parent"
                orientation="vertical"
                visibility="{{@item.showList}}">

              <!-- title -->
              <FrameLayout
                  width="match_parent"
                  height="40"
                  marginLeft="16"
                  marginRight="16">

                <TextView
                    width="wrap_content"
                    height="match_parent"
                    gravity="center"
                    text="{{@i18n/n_shark_fin_product}}"
                    textSize="12"
                    textFontWeight="400"
                    textColor="@color/kColorThreeLevelText" />

                <TextView
                    width="wrap_content"
                    height="match_parent"
                    gravity="center"
                    layout_gravity="right|center"
                    text="{{@item.rightTitle}}"
                    textSize="12"
                    textFontWeight="400"
                    textColor="@color/kColorThreeLevelText" />

              </FrameLayout>
              <LinearLayout
                  width="match_parent"
                  height="0"
                  weight="1"
                  orientation="vertical">
                <RecyclerView
                    width="match_parent"
                    height="match_parent"
                    background="@color/KBaseColorContentBackground"
                    data="@item.data"
                    itemKey="element"
                    typeKey="type"
                    orientation="vertical"
                    loadMoreStatus="{{@item.loadMoreStatus}}"
                    onLoadMore="@event.history.onLoadMore()">

                  <!-- header -->
                  <Cell
                      type="header"
                      width="match_parent"
                      height="wrap_content"
                      paddingLeft="16"
                      paddingRight="16">

                    <LinearLayout
                        width="match_parent"
                        height="wrap_content"
                        orientation="vertical">

                      <TextView
                          width="wrap_content"
                          height="wrap_content"
                          textSize="12"
                          textFontWeight="400"
                          gravity="left|center"
                          textColor="@color/kColorThreeLevelText"
                          text="{{@element.showDate}}" />

                      <LinearLayout
                          width="match_parent"
                          height="wrap_content"
                          marginTop="5"
                          gravity="center|left"
                          orientation="horizontal"
                          visibility="{{@element.isShowDesc}}"
                          onClick="@event.history.projectTitleClick({{@element.index}})">

                        <TextView
                            width="wrap_content"
                            height="wrap_content"
                            cornerRadius="4"
                            textSize="12"
                            textFontWeight="400"
                            gravity="left|center"
                            textColor="@color/kColorThreeLevelText"
                            text="{{@element.showDesc}}" />

                        <TextView
                            width="wrap_content"
                            height="wrap_content"
                            textSize="12"
                            textFontWeight="400"
                            gravity="center"
                            textColor="@color/kColorPrimaryText"
                            text="{{@element.showNumber}}" />

                        <ImageView
                            width="12"
                            height="12"
                            gravity="center"
                            marginLeft="5"
                            src="@drawable/edge_engine_shark_info_icon" />

                      </LinearLayout>

                    </LinearLayout>

                  </Cell>

                  <!-- 产品item -->
                  <Cell
                      type="normal"
                      width="match_parent"
                      height="wrap_content"
                      paddingLeft="16"
                      paddingRight="16">
                    <LinearLayout
                        width="match_parent"
                        height="wrap_content"
                        gravity="center"
                        marginTop="12"
                        marginBottom="12"
                        orientation="horizontal"
                        onClick="@event.history.openDetail({{@element.idx}})">

                      <TextView
                          width="wrap_content"
                          height="wrap_content"
                          maxWidth="94"
                          textSize="14"
                          textFontWeight="500"
                          maxLines="0"
                          gravity="center｜left"
                          textColor="@color/kColorPrimaryText"
                          text="{{@element.title}}" />

                      <View
                          width="0"
                          height="1"
                          weight="1" />

                      <LinearLayout
                          width="wrap_content"
                          height="wrap_content"
                          gravity="center|right"
                          orientation="vertical">

                        <TextView
                            width="wrap_content"
                            height="wrap_content"
                            maxWidth="240"
                            gravity="center|right"
                            textSize="14"
                            textFontWeight="500"
                            textColor="@color/kColorPrimaryText"
                            text="{{@element.showRate}}" />

                        <TextView
                            width="wrap_content"
                            height="wrap_content"
                            maxWidth="240"
                            marginTop="5"
                            gravity="center|right"
                            textSize="12"
                            textFontWeight="400"
                            textColor="@color/kColorThreeLevelText"
                            text="{{@element.showDetail}}"
                            maxLines="0" />

                      </LinearLayout>
                    </LinearLayout>
                  </Cell>

                  <!-- 空行 -->
                  <Cell
                      width="match_parent"
                      height="wrap_content"
                      type="empty">
                    <View
                        width="match_parent"
                        height="44" />
                  </Cell>
                </RecyclerView>
              </LinearLayout>
            </LinearLayout>
          </FrameLayout>

        </Cell>
      </For>
    </SliderView>
  </LinearLayout>

  <View
      width="1"
      height="1"
      popTemplate="historypop.xml"
      popShow="{{@data.history.alertPopShow|false}}"
      popCancelOnTouchOutside="true"
      popBackgroundDimmed="true"
      popShowMode="modal"
      popModalPositon="bottom"
      onPopDismiss="@event.historyPop.popDismiss()" />

</LinearLayout>
