import{c as e,e as n,f as t,r,I as a,R as i,g as o,h as u,i as s,k as c}from"./index-3fce51b3.js";function f(){if(console&&console.warn){for(var e,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];"string"==typeof t[0]&&(t[0]="react-i18next:: ".concat(t[0])),(e=console).warn.apply(e,t)}}var l={};function g(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];"string"==typeof n[0]&&l[n[0]]||("string"==typeof n[0]&&(l[n[0]]=new Date),f.apply(void 0,n))}function p(e,n,t){e.loadNamespaces(n,(function(){if(e.isInitialized)t();else{e.on("initialized",(function n(){setTimeout((function(){e.off("initialized",n)}),0),t()}))}}))}function d(r,a){return e(r)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i,o,u=[],s=!0,c=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=i.call(t)).done)&&(u.push(r.value),u.length!==n);s=!0);}catch(f){c=!0,a=f}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return u}}(r,a)||n(r,a)||t()}function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){u(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var v=function(e,n){var t=r.useRef();return r.useEffect((function(){t.current=n?t.current:e}),[e,n]),t.current};function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.i18n,u=r.useContext(a)||{},f=u.i18n,l=u.defaultNS,y=t||f||s();if(y&&!y.reportNamespaces&&(y.reportNamespaces=new i),!y){g("You will need to pass in an i18next instance by using initReactI18next");var h=function(e,n){return"string"==typeof n?n:n&&"object"===c(n)&&"string"==typeof n.defaultValue?n.defaultValue:Array.isArray(e)?e[e.length-1]:e},O=[h,{},!1];return O.t=h,O.i18n={},O.ready=!1,O}y.options.react&&void 0!==y.options.react.wait&&g("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var m=b(b(b({},o()),y.options.react),n),w=m.useSuspense,j=m.keyPrefix,k=e||l||y.options&&y.options.defaultNS;k="string"==typeof k?[k]:k||["translation"],y.reportNamespaces.addUsedNamespaces&&y.reportNamespaces.addUsedNamespaces(k);var S=(y.isInitialized||y.initializedStoreOnce)&&k.every((function(e){return function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.languages&&n.languages.length?void 0!==n.options.ignoreJSONStructure?n.hasLoadedNamespace(e,{precheck:function(n,r){if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!r(n.isLanguageChangingTo,e))return!1}}):function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.languages[0],a=!!n.options&&n.options.fallbackLng,i=n.languages[n.languages.length-1];if("cimode"===r.toLowerCase())return!0;var o=function(e,t){var r=n.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===r||2===r};return!(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!o(n.isLanguageChangingTo,e)||!n.hasResourceBundle(r,e)&&n.services.backendConnector.backend&&(!n.options.resources||n.options.partialBundledLanguages)&&(!o(r,e)||a&&!o(i,e)))}(e,n,t):(g("i18n.languages were undefined or empty",n.languages),!0)}(e,y,m)}));function C(){return y.getFixedT(null,"fallback"===m.nsMode?k:k[0],j)}var x=d(r.useState(C),2),I=x[0],N=x[1],P=k.join(),L=v(P),E=r.useRef(!0);r.useEffect((function(){var e=m.bindI18n,n=m.bindI18nStore;function t(){E.current&&N(C)}return E.current=!0,S||w||p(y,k,(function(){E.current&&N(C)})),S&&L&&L!==P&&E.current&&N(C),e&&y&&y.on(e,t),n&&y&&y.store.on(n,t),function(){E.current=!1,e&&y&&e.split(" ").forEach((function(e){return y.off(e,t)})),n&&y&&n.split(" ").forEach((function(e){return y.store.off(e,t)}))}}),[y,P]);var R=r.useRef(!0);r.useEffect((function(){E.current&&!R.current&&N(C),R.current=!1}),[y,j]);var T=[I,y,S];if(T.t=I,T.i18n=y,T.ready=S,S)return T;if(!S&&!w)return T;throw new Promise((function(e){p(y,k,(function(){e()}))}))}export{d as _,h as u};
